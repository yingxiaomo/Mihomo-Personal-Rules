# é”šç‚¹éƒ¨åˆ†
# è¿é€šæ€§æ£€æŸ¥é€šç”¨é”šç‚¹
Check: &Check { url: https://www.gstatic.com/generate_204, interval: 180, timeout: 5000 } 

# æœºåœºè®¢é˜…
proxy-providers:
  Airport1:
    url: "æœºåœºè®¢é˜…"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: ğŸ¯ å…¨çƒç›´è¿


# å…¨å±€é…ç½®
port: 7890                                                         # HTTP(S) ä»£ç†ç«¯å£
socks-port: 7891                                                   # SOCKS5 ä»£ç†ç«¯å£ 
redir-port: 7892                                                   # æµé‡è½¬å‘ç«¯å£   
mixed-port: 7893                                                   # HTTP(S)&SOCKS5 æ··åˆä»£ç†ç«¯å£
tproxy-port: 7894                                                  # DNSç›‘å¬ç«¯å£
allow-lan: true                                                    # å…è®¸å±€åŸŸç½‘
bind-address: "*"                                                  # å±€åŸŸç½‘ipï¼Œ*è¡¨ç¤ºæ‰€æœ‰
ipv6: true                                                         # ipv6ï¼Œfalseè¡¨ç¤ºå…³é—­
unified-delay: true                                                # ç»Ÿä¸€å»¶è¿Ÿ
tcp-concurrent: true                                               # tcpå¹¶å‘
log-level: info                                                    # æ—¥å¿—ç­‰çº§
mode: rule                                                         # è¿è¡Œæ¨¡å¼
find-process-mode: 'off'                                           # è¿›ç¨‹åŒ¹é…                #alwaysï¼Œæ€»æ˜¯åŒ¹é…             strictï¼Œè‡ªåŠ¨åŒ¹é…
# interface-name: en0                         # ç»‘å®šç½‘å¡
global-client-fingerprint: chrome                                  # æµè§ˆå™¨ä¼ªè£…
keep-alive-idle: 600                                               # æ‰‹æœºçœç”µ
keep-alive-interval: 15                                            # æ‰‹æœºçœç”µ
disable-keep-alive: false                                          # å…³é—­æ‰‹æœºçœç”µ
profile:
  store-selected: true                                             
  store-fake-ip: true                                              # é€‰æ‹©çš„èŠ‚ç‚¹å’Œfake-ipç¼“å­˜ï¼Œfalseè¡¨ç¤ºå…³é—­

# æ§åˆ¶é¢æ¿
#ï¼ˆæ‰€æœ‰æ’ä»¶éƒ½è‡ªå¸¦å¯ä»¥åœ¨è®¾ç½®é‡Œä¸‹è½½ï¼Œæ‰€ä»¥ä¸å†™äº† ï¼‰

# å—…æ¢
sniffer:
  enable: true
  force-dns-mapping: true                                          # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: false                                             # å¯¹æ‰€æœ‰ipè¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true                                       # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®
  sniff: {HTTP: {ports: [80, "8080-8880"], override-destination: true}, TLS: {ports: [443, 8443]}, QUIC: {ports: [443, 8443]}}
  force-domain: ["+.v2ex.com"]
  skip-domain:
    - "dlg.io.mi.com"

# å…¥ç«™
tun:
  enable: true                                                      # å¼€å¯tun
  stack: system                                                     # ä¸‰ç§æ¨¡å¼,systemï¼ˆå…¼å®¹æ€§æœ€å¥½ä½†æ˜¯udpæ”¯æŒä¸ä½³ï¼‰/gvisorï¼ˆudpæ”¯æŒå¥½ï¼‰/mixedï¼ˆç»“åˆå‰ä¸¤ä¸ªçš„ä¼˜ç‚¹ï¼‰
  dns-hijack: ["any:53", "tcp://any:53"]                            # åŠ«æŒ53ç«¯å£
  auto-route: true                                                  # è‡ªåŠ¨è·¯ç”±
  auto-redirect: true                                               # è‡ªåŠ¨é‡å®šå‘
  auto-detect-interface: true                                       # è‡ªåŠ¨æ¥å£é€‰æ‹©
  endpoint-independent-nat: true                                    # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT
  udp-timeout: 300s                                                 # UDP NAT è¿‡æœŸæ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½

dns:
  enable: true
  listen: 0.0.0.0:7874
  ipv6: false
  enhanced-mode: redir-host
  respect-rules: true
  use-hosts: true


# åŸºç¡€DNSæœåŠ¡å™¨ï¼Œå¿…é¡»å…ˆæœ‰å®ƒæ‰èƒ½ä½¿ç”¨åŸŸåç±»å‹çš„DNSé…ç½®ï¼Œå› æ­¤å¿…é¡»ä¸ºIPï¼Œæ­¤å¤„ä½¿ç”¨é˜¿é‡Œäº‘DNS
# ä¸‹é¢å…¨æ˜¯æ•°å­—dnsæ‰€ä»¥è¿™ä¸ªå¯ä»¥æ³¨é‡Šæ‰
#  default-nameserver:      
#    - tls://223.5.5.5
#    - tls://223.6.6.6

# è§„åˆ™åŒ¹é…åˆ°ç›´è¿æ—¶ä½¿ç”¨çš„DNSï¼Œæ—¢ç„¶æ˜¯å¯ä»¥ç›´è¿çš„ï¼Œå½“ç„¶è¦ç”¨å›½å†…DNSè§£æé€Ÿåº¦æ›´å¿«æ›´ç¨³å®š
# æˆ‘ä½¿ç”¨ä¸‹é¢çš„æ•°æ®åº“åŒ¹é…æ‰€ä»¥æŠŠè¿™é‡Œæ³¨é‡Šæ‰äº†
#  direct-nameserver:    
#   - https://223.5.5.5/dns-query
#   - https://223.6.6.6/dns-query

# è§£æä»£ç†èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„DNSï¼Œä¸ºäº†ä½¿ä¸‹é¢çš„respect-rulesç”Ÿæ•ˆå¿…é¡»è®¾ç½®ï¼Œæœ€å¥½è®¾ç½®ä¸ºå›½å†…DNSï¼Œå¦åˆ™åœ¨ä»£ç†çš„ç¬¬ä¸€æ­¥å°±å¯èƒ½å› ä¸ºè¿æ¥ä¸ä¸Šå›½å¤–DNSè€Œè§£æä¸å‡ºä»£ç†èŠ‚ç‚¹çš„IPï¼Œæœ€ç»ˆå€’åœ¨èµ·ç‚¹
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query


# æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
  nameserver-policy:
    # å›½å†…åŸŸå -> æ­£å¸¸åŒæ ˆ
    "geosite:cn,private,steam@cn":
      - https://223.5.5.5/dns-query
      - https://119.29.29.29/dns-query
      

        
# åœ¨è®¿é—®çš„å›½å¤–ç½‘ç«™æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•åŸŸåè§„åˆ™ï¼Œæœ€ç»ˆèµ°äº†MATCHå…œåº•è§„åˆ™æ—¶ä½¿ç”¨çš„DNSï¼Œä¸ºäº†ç¡®ä¿ä¸å‘ç”ŸDNSæ³„æ¼å’ŒDNSæ±¡æŸ“ï¼Œå¿…é¡»ä½¿ç”¨å›½å¤–DNS
# è¯´äººè¯å°±æ˜¯ä¸Šé¢å¼€å¯äº†éµå¾ªè·¯ç”±è§„åˆ™ï¼ŒDNSè¯·æ±‚ä¼šåŒ¹é…è‡ªå·±å†™çš„è§„åˆ™ï¼Œæ²¡åŒ¹é…åˆ°çš„ä¼šç”¨è¿™ä¸ªDNSï¼Œä¸Šé¢å†™äº†cnæ•°æ®åº“ï¼Œæ²¡åŒ¹é…åˆ°æ•°æ®åº“çš„éƒ½ä¼šä½¿ç”¨è¿™ä¸ªè§£ææ‰€ä»¥å†™å›½å¤–çš„é˜²æ­¢DNSæ³„éœ²
# æˆ‘ä¸éœ€è¦å›½å¤–v6åœ°å€ï¼Œæ‰€ä»¥å¼ºåˆ¶ä¸¢å¼ƒv6äº†ï¼Œæœ‰éœ€è¦å¯ä»¥å»æ‰#disable-ipv6=true
  nameserver:
      - https://1.1.1.1/dns-query#disable-ipv6=true
      - https://8.8.8.8/dns-query#disable-ipv6=true  


    



# èŠ‚ç‚¹é€‰æ‹©é”šç‚¹
all: &all { type: select, proxies: [ æ–°åŠ å¡æ™ºèƒ½, é¦™æ¸¯æ™ºèƒ½, æ—¥æœ¬æ™ºèƒ½, ç¾å›½æ™ºèƒ½, å…¶ä»–æ™ºèƒ½, è‡ªå»ºæ™ºèƒ½, æ–°åŠ å¡æ‰‹åŠ¨, é¦™æ¸¯æ‰‹åŠ¨, æ—¥æœ¬æ‰‹åŠ¨, ç¾å›½æ‰‹åŠ¨, å…¶ä»–æ‰‹åŠ¨, è‡ªå»ºæ‰‹åŠ¨, å…¨éƒ¨æ‰‹åŠ¨, ç›´è¿ ] } 
Emby: &Emby { type: select, proxies: [  Embyæ™ºèƒ½, Embyæ‰‹åŠ¨ ] } 
Bybit: &Bybit { type: select, proxies: [ BybitæœåŠ¡ ] } 

# èŠ‚ç‚¹ç­›é€‰é”šç‚¹
SG: &SG { filter: "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore" } 
HK: &HK { filter: "(?i)æ¸¯|hk|hongkong|hong kong" } 
US: &US { filter: "(?i)(us|united states|ç¾å›½|ç¾åŒº)" }
JP: &JP { filter: "(?i)æ—¥æœ¬|jp|japan" } 
ZJ: &ZJ { filter: "(?i)(è‡ªå»º|workers)(?!.*ç§»åŠ¨)" } 
Other: &Other { filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|ç›´è¿|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates)).*" } 

# èŠ‚ç‚¹åˆ†ç»„é”šç‚¹
# Select ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºæ‰‹åŠ¨é€‰æ‹©)
Select: &Select { type: select, include-all: true, exclude-type: direct  } 
# Smart ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºæ™ºèƒ½é€‰æ‹©)
Smart: &Smart { type: smart, include-all: true, uselightgbm: true, collectdata: true, strategy: sticky-sessions, hidden: true, <<: *Check, exclude-type: direct }  
# Url-Test ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºè‡ªåŠ¨é€‰æ‹©)
Url-Test: &Url-Test { type: url-test, include-all: true, <<: *Check, hidden: true, exclude-type: direct }
# Fallback ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºæ•…éšœè½¬ç§»)
Fallback: &Fallback { type: fallback, <<: *Check, hidden: true, lazy: false }
# Round-Robin ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºè½®è¯¢è´Ÿè½½å‡è¡¡)
# è½®è¯¢ä¼šå¾ªç¯ä½¿ç”¨åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹ï¼Œé€‚ç”¨äºéœ€è¦å¹³å‡åˆ†é…è´Ÿè½½çš„åœºæ™¯
RR: &RR { type: load-balance, strategy: round-robin, include-all: true, <<: *Check,hidden: true, exclude-type: direct }
# Load-Balance (æ•£åˆ—) ç­–ç•¥é€šç”¨æ¨¡æ¿
# é€‚ç”¨äºéœ€è¦ä¿æŒå®¢æˆ·ç«¯è¿æ¥ä¸€è‡´æ€§ï¼ˆä¾‹å¦‚ï¼Œé˜²æ­¢é¢‘ç¹åˆ‡æ¢ IP å¯¼è‡´ç™»å½•å¤±æ•ˆï¼‰çš„åœºæ™¯
CH: &CH { type: load-balance, strategy: consistent-hashing, include-all: true, <<: *Check,hidden: true, exclude-type: direct }

proxy-groups:
  - { name: æ¼ç½‘ä¹‹é±¼, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/match.png" }
  - { name: æ¸¸æˆå¹³å°, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Steam.png" }
  - { name: GitHub, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/GitHub.png" }
  - { name: ç”µæŠ¥æ¶ˆæ¯, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Telegram.png" }
  - { name: AIæœåŠ¡, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/AI.png" }
  - { name: ChatGPT, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/ChatGPT.png" }
  - { name: Claude, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Claude.png" }
  - { name: MetaAI, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/MetaAI.png" }
  - { name: Perplexity, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Perplexity.png" }
  - { name: Gemini, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Gemini.png" }
  - { name: Copilot, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Copilot.png" }
  - { name: æ²¹ç®¡è§†é¢‘, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/YouTube.png" }
  - { name: è°·æ­ŒæœåŠ¡, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Google.png" }
  - { name: å¾®è½¯äº‘ç›˜, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/OneDrive.png" }
  - { name: å¾®è½¯æœåŠ¡, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Microsoft.png" }
  - { name: ç½‘ç»œæµ‹è¯•, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Speedtest.png" }
  - { name: Twitter, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Twitter.png" }
  - { name: Bybit, <<: *Bybit, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Bybit.png" }
  - { name: TikTok, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Tiktok.png" }
  - { name: ä»£ç†åŸŸå, <<: *all, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Global.png" }
  - { name: ç›´è¿, type: select, proxies: [DIRECT], hidden: true, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Direct.png" }


# å…¨éƒ¨èŠ‚ç‚¹
  - { name: å…¨éƒ¨æ‰‹åŠ¨, <<: *Select, <<: *Check, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Proxy.png" }
# - { name: å…¨éƒ¨è‡ªåŠ¨, <<: *Url-Test, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Auto.png" }
# - { name: å…¨éƒ¨æ™ºèƒ½, <<: *Smart, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Magic.png" }
# - { name: å…¨éƒ¨æ•…è½¬, <<: *Fallback, include-all: true, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Loop.png" }
# - { name: è½®è¯¢è´Ÿè½½, <<: *RR, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Round_Robin.png" }
# - { name: æ•£åˆ—è´Ÿè½½, <<: *CH, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Final.png" }

# æ‰‹åŠ¨é€‰æ‹©
  - { name: æ–°åŠ å¡æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *SG, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png" }
  - { name: é¦™æ¸¯æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *HK, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png" }
  - { name: æ—¥æœ¬æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *JP, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png" }
  - { name: ç¾å›½æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *US, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png" }
  - { name: Embyæ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *E, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Emby.png"}
  - { name: å…¶ä»–æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *Other, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
  - { name: è‡ªå»ºæ‰‹åŠ¨, <<: *Select, <<: *Check,<<: *ZJ, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}

# æ•…éšœè½¬ç§» (æ³¨é‡Šéƒ¨åˆ†å·²ä¿®æ­£ç¼©è¿›)
# - { name: æ–°åŠ å¡æ•…è½¬, <<: *Fallback, proxies: [ æ–°åŠ å¡æ™ºèƒ½, æ–°åŠ å¡è‡ªåŠ¨, æ–°åŠ å¡æ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
# - { name: é¦™æ¸¯æ•…è½¬, <<: *Fallback, proxies: [ é¦™æ¸¯æ™ºèƒ½, é¦™æ¸¯è‡ªåŠ¨, é¦™æ¸¯æ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: æ—¥æœ¬æ•…è½¬, <<: *Fallback, proxies: [ æ—¥æœ¬æ™ºèƒ½, æ—¥æœ¬è‡ªåŠ¨, æ—¥æœ¬æ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½æ•…è½¬, <<: *Fallback, proxies: [ ç¾å›½æ™ºèƒ½, ç¾å›½è‡ªåŠ¨, ç¾å›½æ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: Embyæ•…è½¬, <<: *Fallback, proxies: [ Embyæ™ºèƒ½, Embyè‡ªåŠ¨, Embyæ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Emby.png"}
# - { name: å…¶ä»–æ•…è½¬, <<: *Fallback, proxies: [ å…¶ä»–æ™ºèƒ½, å…¶ä»–è‡ªåŠ¨, å…¶ä»–æ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºæ•…è½¬, <<: *Fallback, proxies: [ è‡ªå»ºæ™ºèƒ½, è‡ªå»ºè‡ªåŠ¨, è‡ªå»ºæ‰‹åŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}

# è‡ªåŠ¨é€‰æ‹©
  - { name: æ–°åŠ å¡è‡ªåŠ¨, <<: *Url-Test, <<: *SG, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
  - { name: é¦™æ¸¯è‡ªåŠ¨, <<: *Url-Test, <<: *HK, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: æ—¥æœ¬è‡ªåŠ¨, <<: *Url-Test, <<: *JP, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½è‡ªåŠ¨, <<: *Url-Test, <<: *US, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: Embyè‡ªåŠ¨, <<: *Url-Test, <<: *E, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Emby.png"}
# - { name: å…¶ä»–è‡ªåŠ¨, <<: *Url-Test, <<: *Other, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºè‡ªåŠ¨, <<: *Url-Test, <<: *ZJ, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}

# æ™ºèƒ½é€‰æ‹©
# smartå‚æ•°         uselightgbm: true, æ˜¯å¦ä½¿ç”¨æ¨¡å‹
#                  collectdata: false,æ˜¯å¦è®­ç»ƒæ¨¡å‹ 
#                  strategy: sticky-sessions,ç­–ç•¥è½®è¯¢æ•£åˆ—éƒ½è¡Œï¼Œé»˜è®¤æ˜¯æ•£åˆ—

# åˆ†ç»„å†…ä»£ç†é€‰æ‹©ç­–ç•¥ï¼Œå¯é€‰ 'sticky-sessions' æˆ– 'round-robin'ï¼Œä¸æ”¯æŒ 'consistent-hashing'

# é»˜è®¤æ˜¯ 'sticky-sessions'ï¼Œæ•£åˆ— ï¼Œåœ¨æ”¶é›†æ•°æ®æ—¶å…·æœ‰æ›´ç¨³å®šã€å¹³æ»‘çš„èŠ‚ç‚¹åˆ‡æ¢é€»è¾‘

# policy-priority: "Premium:0.9;SG:1.3" èŠ‚ç‚¹æƒé‡
  - { name: æ–°åŠ å¡æ™ºèƒ½, <<: *Smart, <<: *SG, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
  - { name: é¦™æ¸¯æ™ºèƒ½, <<: *Smart, <<: *HK, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
  - { name: æ—¥æœ¬æ™ºèƒ½, <<: *Smart, <<: *JP, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
  - { name: ç¾å›½æ™ºèƒ½, <<: *Smart, <<: *US, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
  - { name: Embyæ™ºèƒ½, <<: *Smart, <<: *E, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Emby.png"}
  - { name: å…¶ä»–æ™ºèƒ½, <<: *Smart, <<: *Other, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
  - { name: è‡ªå»ºæ™ºèƒ½, <<: *Smart, <<: *ZJ, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png" }

# è½®è¯¢è´Ÿè½½ 
# - { name: æ–°åŠ å¡è½®è¯¢, <<: *RR, <<: *SG, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
# - { name: é¦™æ¸¯è½®è¯¢, <<: *RR, <<: *HK, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: æ—¥æœ¬è½®è¯¢, <<: *RR, <<: *JP, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½è½®è¯¢, <<: *RR, <<: *US, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: å…¶ä»–è½®è¯¢, <<: *RR, <<: *Other, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºè½®è¯¢, <<: *RR, <<: *ZJ, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png" }

# æ•£åˆ—è´Ÿè½½ 
# - { name: æ–°åŠ å¡æ•£åˆ—, <<: *CH, <<: *SG, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
# - { name: é¦™æ¸¯æ•£åˆ—, <<: *CH, <<: *HK, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: æ—¥æœ¬æ•£åˆ—, <<: *CH, <<: *JP, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½æ•£åˆ—, <<: *CH, <<: *US, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: å…¶ä»–æ•£åˆ—, <<: *CH, <<: *Other, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºæ•£åˆ—, <<: *CH, <<: *ZJ, icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png" }

# dns
  - { name: DNSæœåŠ¡, type: url-test, <<: *Check, hidden: true, proxies: [ æ–°åŠ å¡è‡ªåŠ¨, é¦™æ¸¯è‡ªåŠ¨ ], icon: "https://cdn.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Area.png"}



# è§„åˆ™åŒ¹é…
rules:
  - DOMAIN-SUFFIX,cloudflare-dns.com, DNSæœåŠ¡
  - DOMAIN-SUFFIX,dns.google, DNSæœåŠ¡
  - IP-CIDR,1.1.1.1/32, DNSæœåŠ¡
  - IP-CIDR,8.8.8.8/32, DNSæœåŠ¡

  
  - RULE-SET,ç§æœ‰åŸŸå , ç›´è¿
  - RULE-SET,ç›´è¿è½¯ä»¶, ç›´è¿
  - RULE-SET,ç½‘ç»œæµ‹è¯•, ç½‘ç»œæµ‹è¯•
  - RULE-SET,å¹¿å‘Š, REJECT
  - RULE-SET,æ¸¸æˆä¸‹è½½, ç›´è¿
  - RULE-SET,æ¸¸æˆå¹³å°, æ¸¸æˆå¹³å°
  - RULE-SET,BTä¸‹è½½, ç›´è¿
  - RULE-SET,è°·æ­ŒFCM,æ–°åŠ å¡æ™ºèƒ½
  - RULE-SET,è°·æ­Œcn, ç›´è¿
  - RULE-SET,å¾®è½¯äº‘ç›˜, å¾®è½¯äº‘ç›˜
  - RULE-SET,å¾®è½¯æœåŠ¡, å¾®è½¯æœåŠ¡
  - RULE-SET,è‹¹æœæœåŠ¡, ç›´è¿
  - RULE-SET,ç”µæŠ¥åŸŸå, ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,GitHub, GitHub
  - RULE-SET,ChatGPT, ChatGPT
  - RULE-SET,Claude, Claude
  - RULE-SET,Meta AI, MetaAI
  - RULE-SET,Perplexity, Perplexity
  - RULE-SET,Gemini, Gemini
  - RULE-SET,Copilot, Copilot
  - RULE-SET,AIæœåŠ¡, AIæœåŠ¡
  - RULE-SET,æ²¹ç®¡è§†é¢‘, æ²¹ç®¡è§†é¢‘
  - RULE-SET,è°·æ­ŒåŸŸå, è°·æ­ŒæœåŠ¡
  - RULE-SET,Twitter, Twitter
  - RULE-SET,Bybit, Bybit
  - RULE-SET,TikTok, TikTok
  - RULE-SET,ä»£ç†é¡¶çº§åŸŸå, ä»£ç†åŸŸå
  - RULE-SET,ä»£ç†åŸŸå, ä»£ç†åŸŸå
  - RULE-SET,ç›´è¿åŸŸå, ç›´è¿
  - RULE-SET,ç§æœ‰ip, ç›´è¿,no-resolve
  - RULE-SET,ç”µæŠ¥ip, ç”µæŠ¥æ¶ˆæ¯,no-resolve
  - RULE-SET,è°·æ­Œip, è°·æ­ŒæœåŠ¡,no-resolve
  - RULE-SET,å›½å†…ip, ç›´è¿
  - GEOIP,CN, ç›´è¿

  - MATCH, æ¼ç½‘ä¹‹é±¼

# è§„åˆ™é›†
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  domain_text: &domain_text {type: http, interval: 86400, behavior: domain, format: text} 
  class: &class {type: http, interval: 86400, behavior: classical, format: text}
rule-providers: 
  fakeipè¿‡æ»¤: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/fakeip-filter.mrs"}  
  æ¸¸æˆä¸‹è½½: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games-cn.mrs"} 
  æ¸¸æˆå¹³å°: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games.mrs"} 
  ç§æœ‰åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/private.mrs"} 
  BTä¸‹è½½: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/trackerslist.mrs"} 
  ç›´è¿è½¯ä»¶: { <<: *class, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/applications.list"} 
  å¾®è½¯äº‘ç›˜: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs"} 
  å¾®è½¯æœåŠ¡: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/microsoft-cn.mrs"} 
  è‹¹æœæœåŠ¡: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/apple-cn.mrs"} 
  è°·æ­Œcn: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/google-cn.mrs"} 
  è°·æ­ŒFCM: { <<: *class, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.list"} 
  ç½‘ç»œæµ‹è¯•: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"} 
  ChatGPT: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/openai.mrs"} 
  Claude: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Claude/Claude.list"} 
  Meta AI: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/MetaAi.list"} 
  Perplexity: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/perplexity.mrs"} 
  Copilot: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Copilot.list"} 
  Gemini: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Gemini.list"} 
  AIæœåŠ¡: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/ai.mrs"} 
  GitHub: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"} 
  æ²¹ç®¡è§†é¢‘: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/youtube.mrs"} 
  è°·æ­ŒåŸŸå: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"} 
  Twitter: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/x.mrs"} 
  ç”µæŠ¥åŸŸå: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"} 
  Bybit: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/bybit.mrs"} 
  TikTok: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tiktok.mrs"} 
  ä»£ç†é¡¶çº§åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/tld-proxy.mrs"} 
  ä»£ç†åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/proxy.mrs"} 
  ç›´è¿åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cn.mrs"} 
  ç§æœ‰ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/privateip.mrs"} 
  å›½å†…ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cnip.mrs"} 
  è°·æ­Œip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"} 
  ç”µæŠ¥ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/telegramip.mrs"} 
  
  å¹¿å‘Š: { <<: *domain_text, url: "https://raw.githubusercontent.com/YingXiaoMo/Mihomo-Personal-Rules/refs/heads/main/rules/custom/uaaad.list"}
